[project]
name = "kazu"
version = "0.0.23"  # TODO: need to update bumpversion, plus I think this can be dynamic?
description = "Biomedical Named Entity Recognition and Entity Linking for Enterprise use cases"
readme = "README.md"
requires-python = ">=3.9"
license = { text = "Apache 2.0" }  # could also give the actual file with file = "LICENSE"
authors = [
  # it looks like setup.py was unhappy with this already - it should have names and emails
  {name = "AstraZeneca AI and Korea University"}
]
dependencies = [
  "spacy>=3.2.0",
  "torch>=1.12.0",
  "transformers>=4.0.0",
  "rdflib>=6.0.0",
  "requests>=2.20.0",
  "hydra-core>=1.3.0",
  "pytorch-lightning>=1.7.4",
  "pandas>=1.0.0",
  "pyarrow>=8.0.0",
  "pytorch-metric-learning>=0.9.99",
  "rapidfuzz>=1.0.0",
  "seqeval>=1.0.0",
  "py4j>=0.10.9",
  "scikit-learn>=0.24.0",
  "stanza>=1.0.0",
  "regex>=2020.1.7",
  "psutil>=5.3.0",
  "cachetools>=5.2.0"
]

[project.urls]
documentation = "https://astrazeneca.github.io/KAZU/_build/html/index.html"
repository = "https://github.com/AstraZeneca/KAZU"

[project.optional-dependencies]
webserver = [
  "ray[serve]>=1.10.0",
  "PyJWT>=2.0.0",
  ]
dev = [
  "kazu[webserver]",
  "black~=22.0",
  "flake8",
  "mypy",
  "types-requests",
  "types-cachetools",
  "types-regex",
  "types-psutil",
  "pandas-stubs",
  "bump2version",
  "pre-commit",
  "pytest",
  "pytest-mock",
  "pytest-cov",
  "pytest-timeout",
  "sphinx",
  "myst_parser",
  "furo",
  # to allow profiling
  # of the steps.
  "tensorboard",
]

[build-system]
requires = ["setuptools", "setuptools-scm"]
build-backend = "setuptools.build_meta"

[tool.setuptools.packages.find]
where = ["kazu"]
exclude = ["kazu.tests*"]

[tool.black]
line-length = 100
target-version = ['py38']
include = '\.pyi?$'
exclude = '''

(
  /(
      \.eggs         # exclude a few common directories in the
    | \.git          # root of the project
    | \.hg
    | \.mypy_cache
    | \.tox
    | \.venv
    | _build
    | buck-out
    | build
    | dist
    | .idea
    | .pytest_cache
  )/
)
'''
